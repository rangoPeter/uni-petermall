<view class="cartContainer"><block wx:if="{{!userInfo.nickName}}"><view class="header"><text>30天无忧退货</text><text>48小时快速退货</text><text>满99元免邮费</text></view><view class="contentContainer"><image class="cartImg" src="http://yanxuan-static.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/noCart-d6193bd6e4.png?imageView&type=webp" mode></image><button data-event-opts="{{[['tap',[['toLogin',['$event']]]]]}}" hidden="{{!(!userInfo.userName)}}" bindtap="__e">登录</button><view class="addMore">去添加点什么吧</view></view></block><block wx:else><scroll-view class="cartList" scroll-y="{{true}}"><block wx:for="{{goodsList}}" wx:for-item="goods" wx:for-index="index" wx:key="id"><view class="cartItem"><text data-event-opts="{{[['tap',[['switchChecked',[index,!goods.isChecked]]]]]}}" class="{{['iconfont icon-xuanzhong',goods.isChecked?'selected':'']}}" bindtap="__e"></text><view class="shopItem"><image class="shopImg" src="{{goods.listPicUrl}}" mode></image><view class="shopInfo"><text>{{goods.name}}</text><text class="price">{{"￥"+goods.retailPrice}}</text></view></view><view class="countCtrl"><text data-event-opts="{{[['tap',[['changeNum',[index,1]]]]]}}" class="add" bindtap="__e">+</text><text class="count">{{''+goods.count+''}}</text><text data-event-opts="{{[['tap',[['changeNum',[index,0]]]]]}}" class="del" bindtap="__e">-</text></view></view></block></scroll-view></block><view class="cartFooter"><text data-event-opts="{{[['tap',[['changAllState',[!isAllChecked]]]]]}}" class="{{['iconfont icon-xuanzhong',isAllChecked?'selected':'']}}" bindtap="__e"></text><text class="allSelected">{{"已选 "+getGoodsNum}}</text><view class="right"><text class="totalPrice">{{"合计: ￥"+getGoodsAllPrice}}</text><text class="preOrder">下单</text></view></view></view>